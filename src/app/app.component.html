<div class="app-wrapper" *ngIf="user?.authenticated; else notAuthenticated">
  <mat-toolbar class="app-nav" color="primary">
    <mat-toolbar-row>
      <a mat-button routerLink="/">Services Manager</a>
      <ng-container *ngIf="(clients$ | async) as clients">
        <a *ngFor="let client of clients" mat-button (click)="goToClient(client)">
          {{client.name}}
        </a>
      </ng-container>
      <span class="spacer"></span>
      <button mat-button (click)="logout()">Logout</button>
    </mat-toolbar-row>
  </mat-toolbar>

  <div class="app-content">
    <router-outlet></router-outlet>
  </div>
</div>

<ng-template #notAuthenticated>
  <mat-card>
    <mat-card-content>
      <h2>You are not authorized to view this page.</h2>
      <button mat-raised-button color="warn" routerLink="/">
        Click here to login
      </button>
    </mat-card-content>
  </mat-card>
</ng-template>
